# 项目上下文文件

## 项目概述

**项目名称:** arts4kids

**项目类型:** 教育类 Web 游戏

**状态:** 已完成核心功能开发

**描述:** arts4kids 是一个为儿童设计的教育游戏平台。首个项目是三年级语文"看拼音写词语"网页游戏，通过游戏化方式帮助三年级上学期学生巩固教材中的经典课文词汇，提高语文学习兴趣和拼写能力。

## 目录结构

```
/documents/interest/arts4kids/
├── IFLOW.md                              # 本文件，用于存储项目的上下文信息
├── grade3chinese-game-design.md          # 三年级语文游戏的设计方案文档
└── grade3chinese.html                    # 三年级语文"看拼音写词语"网页游戏（单文件）
```

## 技术栈

### 核心技术
- **前端:** 原生 HTML5 + CSS3 + JavaScript (ES6+)
- **部署方式:** 单文件 HTML，可直接在浏览器打开或通过 HTTP 服务器托管
- **数据存储:** localStorage（浏览器本地存储）
- **音频:** Web Audio API

### 技术特点
- **零依赖:** 无需安装任何第三方库或框架
- **轻量级:** 单文件部署，文件体积小，加载速度快
- **跨平台:** 支持主流浏览器（Chrome、Firefox、Safari、Edge）
- **响应式:** 适配桌面端、平板和手机

## 构建和运行

### 本地运行

**方法一：直接打开文件**
```bash
# 在浏览器中直接打开 HTML 文件
open grade3chinese.html
# 或
xdg-open grade3chinese.html
```

**方法二：使用 HTTP 服务器**
```bash
# 使用 Python 3 启动本地 HTTP 服务器
python3 -m http.server 8080 --directory /documents/interest/arts4kids

# 然后在浏览器中访问
# http://localhost:8080/grade3chinese.html
```

### 无需构建
本项目采用单文件 HTML 方式，无需构建步骤，直接运行即可。

## 项目功能

### 三年级语文"看拼音写词语"游戏

#### 游戏模式
1. **闯关练习**
   - 按照课文顺序逐课闯关
   - 覆盖人教版三年级上册全部 27 课
   - 每课包含 10-15 个重点词语
   - 显示拼音，学生输入汉字
   - 进度自动保存

2. **挑战赛**
   - 随机抽取 20 个词语
   - 限时挑战
   - 答对得分，连续答对有加成
   - 本地排行榜记录前 10 名

3. **错题本**
   - 自动记录答错的词语
   - 可单独练习错题
   - 针对性复习薄弱环节

#### 核心功能
- ✅ 拼音显示和汉字输入
- ✅ 即时反馈（正确/错误提示）
- ✅ 提示功能（每个词可使用 3 次）
- ✅ 跳过功能
- ✅ 进度显示和计时
- ✅ 得分系统
- ✅ 成就系统（5 个成就）
- ✅ 数据持久化（localStorage）
- ✅ 设置功能（音效、难度等）
- ✅ 响应式设计
- ✅ 音效反馈（Web Audio API）

#### 词库内容
- **课文范围:** 人教版三年级上册（27 课）
- **词语数量:** 约 270 个词语
- **词语类型:** 课文标题、重点词语、成语、多音字词
- **拼音标注:** 标准汉语拼音

#### 成就系统
- 🏆 **初学者:** 完成第 1 关
- 🏆 **勤奋好学:** 连续 7 天练习
- 🏆 **词语大师:** 全部通关
- 🏆 **完美主义者:** 单关全对
- 🏆 **速度之星:** 挑战赛 3 分钟内完成

## 开发约定

### 代码风格
- **HTML:** 语义化标签，清晰的层级结构
- **CSS:** 使用 CSS 变量管理主题色，Flexbox 和 Grid 布局
- **JavaScript:** ES6+ 语法，模块化函数设计
- **命名:** 使用有意义的变量和函数名，驼峰命名法

### 文件组织
- **单文件架构:** HTML、CSS、JavaScript 全部内嵌在一个文件中
- **代码结构:**
  - `<head>` 部分：CSS 样式
  - `<body>` 部分：HTML 结构
  - `<script>` 部分：JavaScript 逻辑

### 数据管理
- **数据存储:** 使用 localStorage 存储用户数据
- **数据结构:**
  - `grade3chinese_userdata`: 用户进度、成就、错题、高分
  - `grade3chinese_settings`: 用户设置（音效、难度等）

### 用户体验
- **儿童友好:** 界面简洁明了，操作简单直观
- **即时反馈:** 输入后立即判断对错，提供视觉和音效反馈
- **激励机制:** 积分系统、成就系统、排行榜
- **容错设计:** 提示功能、跳过功能、错题重做

## 词库数据结构

```javascript
const wordBank = [
  {
    lessonId: 1,
    lessonTitle: "大青树下的小学",
    words: [
      {
        pinyin: "dà qīng shù xià de xiǎo xué",
        word: "大青树下的小学",
        difficulty: 1
      }
      // ... 更多词语
    ]
  }
  // ... 更多课文
];
```

## 游戏状态管理

```javascript
const gameState = {
    currentMode: null,      // 当前模式（lesson/challenge/wrongWords）
    currentLesson: null,    // 当前课文
    currentWords: [],       // 当前词语列表
    currentIndex: 0,        // 当前词语索引
    score: 0,               // 得分
    correctCount: 0,        // 正确数
    wrongCount: 0,          // 错误数
    startTime: null,        // 开始时间
    timerInterval: null,    // 计时器
    wrongWords: [],         // 错题列表
    hintsUsed: 0,           // 提示使用次数
    consecutiveCorrect: 0   // 连续答对次数
};
```

## 设计文档

详细的设计方案请参考 `grade3chinese-game-design.md` 文件，包含：
- 项目目标和用户分析
- 技术方案和架构设计
- 游戏设计和交互细节
- 词库设计和内容规划
- 功能模块设计
- 开发计划和实现细节
- 扩展功能和注意事项

## 环境信息

- **操作系统:** Linux 6.8.0-53-generic
- **Python 版本:** 3.12.3
- **Git 版本:** 2.43.0
- **项目创建日期:** 2026-01-17
- **当前状态:** 核心功能已完成，可正常运行

## 后续计划

### 短期优化
- [ ] 根据用户反馈优化界面和交互
- [ ] 修正发现的错误和问题
- [ ] 优化性能和加载速度

### 中期扩展
- [ ] 添加更多课文内容（其他年级）
- [ ] 集成语音朗读功能（Web Speech API）
- [ ] 添加手写输入功能

### 长期规划
- [ ] 开发更多学科的教育游戏
- [ ] 建立云端同步功能
- [ ] 开发家长监控和学习报告功能
- [ ] 构建完整的 arts4kids 教育游戏平台

## 备注

- 项目采用单文件 HTML 架构，便于分享和分发
- 所有数据存储在浏览器本地，保护用户隐私
- 游戏设计遵循儿童友好原则，避免挫败感
- 词库内容基于人教版三年级上册教材，确保准确性
- 项目目前未初始化为 Git 仓库，可根据需要添加版本控制